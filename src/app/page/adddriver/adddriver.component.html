<div class="container-fluid">
  <!-- Use alert component with a success message -->
  @if (isAlert) {
  <app-alert
    [message]="successMessage"
    [type]="alertType"
    [dismissible]="true"
    (onClosed)="isAlert = false"
  ></app-alert>
  }
  <hr />
  <div class="row">
    <div class="col-auto">
      <img
        src="img/adddriver.jpg"
        alt="AddDriver"
        width="180px"
        height="150px"
      />
    </div>
    <div class="col-auto">
      <h2>Add Driver</h2>
      <p>Please fill complete form to be insert driver data into database:</p>
    </div>
  </div>
  <hr />
  <form [formGroup]="formDriver">
    <div class="form-group small text-success fw-medium">
      <div class="row">
        <div class="col-lg-3 col-md-4 col-sm-12 mt-2">
          <div class="form-group required">
            <label class="label ms-1" for="drivername">Driver Name</label>
            <input
              class="form-control form-control-sm"
              id="drivername"
              type="text"
              placeholder="Muhammad Ahmed"
              formControlName="name"
              required
            />
          </div>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-12 mt-2">
          <label class="label label-sm ms-1" for="driverdob"
            >Date of birth</label
          >
          <input
            class="form-control form-control-sm"
            id="driverdob"
            type="date"
            formControlName="dob"
          />
        </div>
        <div class="col-lg-3 col-md-4 col-sm-12 mt-2">
          <div class="form-group required">
            <label class="label ms-1" for="nic">NIC # </label>
            <input
              class="form-control form-control-sm"
              id="nic"
              type="text"
              placeholder="xxxxx-xxxxxxx-x"
              formControlName="nic"
              required
            />
          </div>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-12 mt-2">
          <label class="label label-sm ms-1" for="drivernicexpiry"
            >NIC. Expiry</label
          >
          <input
            class="form-control form-control-sm"
            id="drivernicexpiry"
            type="date"
            formControlName="nicexpiry"
          />
        </div>
        <div class="col-lg-3 col-md-4 col-sm-12 mt-2">
          <div class="form-group required">
            <label class="label ms-1" for="licensenumber">License #</label>
            <input
              class="form-control form-control-sm"
              id="licensenumber"
              type="text"
              placeholder="QA-2233"
              formControlName="licensenumber"
              required
            />
          </div>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-12 mt-2">
          <label class="label ms-1" for="licensetypeid">License Type</label>
          <select
            class="form-select form-select-sm"
            id="licensetypeid"
            formControlName="licensetypeid"
          >
            <option disabled selected value="null">-----Select-----</option>
            @for (item of dltypes(); track $index) {
            <option [value]="item.id">{{ item.name }}</option>
            }
          </select>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-12 mt-2">
          <label class="label ms-1" for="licenseexpiry">License expiry</label>
          <input
            class="form-control form-control-sm"
            id="licenseexpiry"
            type="date"
            placeholder="QA-2233"
            formControlName="licenseexpiry"
          />
        </div>
        <div class="col-lg-3 col-md-4 col-sm-12 mt-2">
          <label class="label ms-1" for="formcount">DDC Count</label>
          <input
            class="form-control form-control-sm"
            min="0"
            id="formcount"
            type="number"
            placeholder="0"
            formControlName="ddccount"
          />
        </div>
        <div class="col-lg-3 col-md-4 col-sm-12 mt-2">
          <label class="label ms-1" for="contractor">Contractors</label>
          <select
            class="form-select form-select-sm"
            id="contractor"
            formControlName="contractorid"
          >
            <option disabled value="null">-----Select-----</option>
            @for (item of contractors(); track $index) {
            <option [value]="item.id">{{ item.name }}</option>
            }
          </select>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-12 mt-2">
          <label class="label ms-1" for="ddesignation">Designation</label>
          <input
            class="form-control form-control-sm"
            id="ddesignation"
            type="text"
            placeholder="Safety Manager"
            formControlName="designation"
          />
        </div>
        <div class="col-lg-3 col-md-4 col-sm-12 mt-2">
          <label class="label ms-1" for="department">Department</label>
          <input
            class="form-control form-control-sm"
            id="department"
            type="text"
            placeholder="Quality Control"
            formControlName="department"
          />
        </div>
        <div class="col-lg-3 col-md-4 col-sm-12 mt-2">
          <label class="label ms-1" for="permit">Permit #</label>
          <input
            class="form-control form-control-sm"
            id="permit"
            type="text"
            placeholder="CONT-2892"
            formControlName="permitnumber"
          />
        </div>
        <div class="col-lg-3 col-md-4 col-sm-12 mt-2">
          <label class="label ms-1" for="permitissue">Permit IssueDate</label>
          <input
            class="form-control form-control-sm"
            id="permitissue"
            type="date"
            placeholder="Quality Control"
            formControlName="permitissue"
          />
        </div>
        <div class="col-lg-3 col-md-4 col-sm-12 mt-2">
          <label class="label ms-1" for="blood">Blood Groups</label>
          <select
            class="form-select form-select-sm"
            id="blood"
            formControlName="bloodgroupid"
          >
            <option disabled value="null">-----Select-----</option>
            @for (item of bloodgroups(); track $index) {
            <option [value]="item.id">{{ item.name }}</option>
            }
          </select>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-12 mt-2">
          <label class="label ms-1" for="visual">Visual Exam</label>
          <select
            class="form-select form-select-sm"
            id="visual"
            formControlName="visualid"
          >
            <option disabled value="null">-----Select-----</option>
            @for (item of visuals(); track $index) {
            <option [value]="item.id">{{ item.name }}</option>
            }
          </select>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-12 mt-2">
          <label class="label ms-1" for="experience">Driver Experience</label>
          <input
            class="form-control form-control-sm"
            min="0"
            id="experience"
            type="number"
            placeholder="0"
            formControlName="experience"
          />
        </div>
        <div class="col-12 mt-2">
          <label class="label ms-1" for="comment">Comments</label>
          <textarea
            class="form-control form-control-sm"
            id="comment"
            formControlName="comment"
          ></textarea>
        </div>
      </div>
      <div class="row mt-4">
        <div class="col-12 text-center">
          <div class="btn-group" role="group" aria-label="Default button group">
            <button
              type="submit"
              class="btn btn-outline-success"
              [disabled]="formDriver.invalid"
              (click)="createDriver()"
            >
              Save
            </button>
            <button
              type="button"
              class="btn btn-outline-secondary"
              (click)="resetForm()"
            >
              Reset
            </button>
          </div>
        </div>
      </div>
    </div>
  </form>
  <hr />
</div>
